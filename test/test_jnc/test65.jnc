//.............................................................................

foo (bool b)
{
	printf ("foo ()\n");
	if (b)
	{
		printf ("foo is about to throw...\n");
		throw;
	}
}

int main ()
{
	printf ("main ()\n");

	bool result = try foo (true);
	printf ("result = %d\n", result);

	try
	{
		printf ("before calling foo...\n");
		foo (false);
		foo (false);
		foo (true);

		result = true;
	}

	printf ("result = %d\n", result);
	return 0;

finally:
	printf ("main finally\n");
}

//.............................................................................
