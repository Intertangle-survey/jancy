//.............................................................................

jnc.AutomatonResult automaton scanCommand (jnc.Recognizer* recognizer)
{
	%% "X" ('|' .*)?
		printf ("PC (id = %s)\n", recognizer.m_lexeme + 1);

	%% "PC" ('|' .*)?
		printf ("PC (id = %s)\n", recognizer.m_lexeme + 2);
}

jnc.AutomatonResult automaton scanPacket (jnc.Recognizer* recognizer)
{
	%% "_?"
		printf ("echo\n");

	%% "_[" (\d+ '.')+ \d+ ']'
		printf ("MAC: %s\n", recognizer.m_lexeme + 2);
		recognizer.m_automatonFunc = scanCommand;
}

int main ()
{	
	printf ("main ()\n");

	jnc.Recognizer recognizer (scanPacket);
	recognizer.write ("_?");
	recognizer.write ("_[1.2.3.4.5.6]X|abcdef");
	recognizer.eof ();
	return 0;

catch:
	printf ("error: %s\n", jnc.getLastError ().m_description);
	return -1;
}

//.............................................................................
