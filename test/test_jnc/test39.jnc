//.............................................................................

struct A
{
	int m_a;
	int m_b;
}

struct B: A
{
	int m_x;
	int m_y;
	void* m_p;
}

foo (void* p)
{
	B* b = dynamic (B*) p;
	if (b)
		printf ("a is B\n");
	else
		printf ("a is NOT B\n");

	size_t size = dynamic sizeof (*p);
	size_t count = dynamic countof (*b);

	printf ("sizeof = %d, countof = %d\n", size, count);
}

int main ()
{
	printf ("main\n");

	A a;
	B b;

	foo (a);
	foo (b);

	return 0; 
}

//.............................................................................
