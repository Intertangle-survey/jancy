//..............................................................................
//
// Ninja log - main log engine api
//

import "ui_Icon.jnc"
import "log_Writer.jnc"
import "log_Converter.jnc"
import "log_Filter.jnc"
import "log_Listener.jnc"
import "log_RangeProcessor.jnc"

namespace log {

//! \addtogroup api-log
//! @{

//..............................................................................

opaque class Log
{
	size_t property m_leafLineCountLimit;
	size_t property m_cacheUpdateScrollRateLimit;

	ui.Icon* property m_iconTable(size_t i);

	Writer* readonly m_writer;
	uint64_t const property m_syncId; // -1 if last record is not StdRecordCode.Sync
	uint64_t autoget property m_baseTimestamp;
	char const* const property m_recordFileName;

	destruct();

	suspend();
	resume();
	rebuild();

	addConverter(
		Converter* converter,
		std.Guid const* auxClassGuidArray,
		size_t auxClassCount
		);

	addConverter(
		Converter* converter,
		std.Guid const* auxClassGuid
		)
	{
		addConverter(converter, auxClassGuid, 1);
	}

	addConverter(Converter* converter)
	{
		addConverter(converter, null, 0);
	}

	removeAllConverters();

	addFilter(Filter* filter);
	removeAllFilters();

	addFoldingFilter(FoldingFilter* filter);
	removeAllFoldingFilters();

	addListener(ListenerFunc* listenerFunc);
	removeAllListeners();

	addSelectionProcessor(RangeProcessorFactoryFunc* factoryFunc);
	removeAllSelectionProcessors();
}

//..............................................................................

//! @}

} // namespace log
